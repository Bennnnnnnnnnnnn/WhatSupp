<!DOCTYPE HTML>
<html>
	<head>
		<title>Loading Supplement... | WhatSupp</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
		<style>
			body {
				/* Background image will be set dynamically by JavaScript */
				background-size: auto 200%;
				background-position: center center;
				background-repeat: no-repeat;
				background-attachment: fixed;
				/* Prevent horizontal scrolling */
				overflow-x: hidden;
				/* Remove default margins/padding */
				margin: 0;
				padding: 0;
			}
			
			/* Ensure all content containers don't exceed viewport width */
			* {
				box-sizing: border-box;
			}
			
			html {
				overflow-x: hidden;
				margin: 0;
				padding: 0;
			}
			
			/* Additional mobile fixes for top spacing */
			@media screen and (max-width: 736px) {
				body {
					padding-top: 0 !important;
				}
				
				#nav {
					position: fixed;
					top: 0;
					z-index: 10000;
				}
				
				#main {
					margin-top: 70px;
				}
			}
			
			/* Account for fixed navigation on desktop */
			@media screen and (min-width: 737px) {
				#main {
					padding-top: 20px;
				}
			}
			
			/* Ensure content sections have semi-transparent backgrounds to show the image behind */
			.wrapper, .wrapper.style2 {
				background-color: rgba(255, 255, 255, 0.95);
				overflow-x: hidden;
				width: 100%;
				max-width: 100vw;
			}
			
			/* Wiki-style content styling */
			.wiki-content {
				max-width: 800px;
				margin: 0 auto;
				line-height: 1.6;
			}
			
			.supplement-header {
				text-align: center;
				margin-bottom: 2rem;
				padding: 2rem;
				background: rgba(255, 255, 255, 0.8);
				border-radius: 8px;
			}
			
			.supplement-meta-info {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
				gap: 1rem;
				margin-bottom: 2rem;
			}
			
			.meta-card {
				background: rgba(255, 255, 255, 0.8);
				padding: 1rem;
				border-radius: 8px;
				text-align: center;
			}
			
			.meta-card h4 {
				color: #6666ff;
				margin-bottom: 0.5rem;
			}
			
			.evidence-rating {
				display: inline-block;
				padding: 0.3rem 0.8rem;
				border-radius: 20px;
				font-size: 0.9rem;
				font-weight: bold;
				margin: 0.5rem 0;
			}
			
			.evidence-high {
				background: #28a745;
				color: white;
			}
			
			.evidence-moderate {
				background: #ffc107;
				color: #212529;
			}
			
			.evidence-low {
				background: #dc3545;
				color: white;
			}
			
			.wiki-section {
				background: rgba(255, 255, 255, 0.9);
				margin: 2rem 0;
				padding: 2rem;
				border-radius: 8px;
				border-left: 4px solid #6666ff;
			}
			
			.wiki-section h3 {
				color: #6666ff;
				margin-bottom: 1rem;
				border-bottom: 2px solid #eee;
				padding-bottom: 0.5rem;
			}
			
			.studies-grid {
				display: grid;
				grid-template-columns: 1fr 1fr;
				gap: 2rem;
				margin-top: 1rem;
			}
			
			@media screen and (max-width: 1024px) {
				.studies-grid {
					grid-template-columns: 1fr;
					gap: 1rem;
				}
			}
			
			.study-card {
				background: rgba(248, 249, 250, 0.9);
				padding: 1.5rem;
				border-radius: 8px;
				border: 1px solid #e9ecef;
			}
			
			.study-title {
				font-weight: bold;
				color: #495057;
				margin-bottom: 0.5rem;
			}
			
			.study-meta {
				font-size: 0.9rem;
				color: #6c757d;
				margin-bottom: 0.5rem;
			}
			
			.study-result {
				background: #d4edda;
				padding: 0.5rem;
				border-radius: 4px;
				border-left: 3px solid #28a745;
				margin-top: 0.5rem;
			}
			
			.dosage-table {
				width: 100%;
				border-collapse: collapse;
				margin: 1rem 0;
				overflow-x: auto;
				display: block;
				white-space: nowrap;
			}
			
			@media screen and (max-width: 768px) {
				.dosage-table {
					font-size: 0.9rem;
				}
				
				.dosage-table th,
				.dosage-table td {
					padding: 0.5rem 0.3rem;
					white-space: normal;
					word-wrap: break-word;
				}
			}
			
			.dosage-table th,
			.dosage-table td {
				padding: 0.75rem;
				text-align: left;
				border-bottom: 1px solid #dee2e6;
			}
			
			.dosage-table th {
				background: rgba(102, 102, 255, 0.1);
				font-weight: bold;
				color: #6666ff;
			}
			
			.safety-alert {
				background: #fff3cd;
				border: 1px solid #ffeaa7;
				border-radius: 6px;
				padding: 1rem;
				margin: 1rem 0;
			}
			
			.safety-alert h4 {
				color: #856404;
				margin-bottom: 0.5rem;
			}
			
			.toc {
				position: fixed;
				top: 100px;
				right: 20px;
				width: 250px;
				max-height: calc(100vh - 120px);
				overflow-y: auto;
				background: rgba(248, 249, 250, 0.95);
				padding: 1.5rem;
				border-radius: 8px;
				box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
				border: 1px solid rgba(102, 102, 255, 0.2);
				z-index: 100;
				transition: all 0.3s ease;
			}
			
			.toc.collapsed {
				width: 50px;
				height: 50px;
				padding: 0.8rem;
				overflow: hidden;
			}
			
			.toc.collapsed .toc-content {
				display: none;
			}
			
			.toc.collapsed::before {
				content: "📋";
				font-size: 1.5rem;
				display: block;
				text-align: center;
				cursor: pointer;
			}
			
			.toc h4 {
				margin-bottom: 1rem;
				color: #6666ff;
				cursor: pointer;
				display: flex;
				align-items: center;
				justify-content: space-between;
			}
			
			.toc-toggle {
				background: none;
				border: none;
				color: #6666ff;
				cursor: pointer;
				font-size: 1.2rem;
			}
			
			.toc ul {
				list-style: none;
				padding: 0;
			}
			
			.toc li {
				margin: 0.5rem 0;
			}
			
			.toc a {
				color: #495057;
				text-decoration: none;
				border-bottom: 1px dotted #6666ff;
				transition: all 0.2s ease;
				display: block;
				padding: 0.3rem 0;
			}
			
			.toc a:hover {
				color: #6666ff;
				background: rgba(102, 102, 255, 0.05);
				padding-left: 0.5rem;
			}
			
			.toc a.active {
				color: #6666ff;
				font-weight: bold;
				background: rgba(102, 102, 255, 0.1);
				padding-left: 0.5rem;
				border-left: 3px solid #6666ff;
			}
			
			/* Hide TOC on mobile and tablets */
			@media screen and (max-width: 1024px) {
				.toc {
					display: none;
				}
			}
			
			/* Wikipedia-style info box */
			.info-box {
				float: right;
				width: 280px;
				margin: 0 0 1rem 1rem;
				background: rgba(248, 249, 250, 0.95);
				border: 1px solid rgba(102, 102, 255, 0.2);
				border-radius: 8px;
				box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
				font-size: 0.9rem;
				clear: right;
			}
			
			.info-box-header {
				background: rgba(102, 102, 255, 0.1);
				padding: 0.8rem;
				border-bottom: 1px solid rgba(102, 102, 255, 0.2);
				border-radius: 8px 8px 0 0;
			}
			
			.info-box-header h4 {
				margin: 0;
				color: #6666ff;
				font-size: 1rem;
				text-align: center;
			}
			
			.info-box-content {
				padding: 0;
			}
			
			.info-row {
				display: flex;
				border-bottom: 1px solid rgba(0, 0, 0, 0.05);
			}
			
			.info-row:last-child {
				border-bottom: none;
			}
			
			.info-label {
				background: rgba(248, 249, 250, 0.8);
				padding: 0.6rem 0.8rem;
				font-weight: bold;
				color: #495057;
				flex: 1;
				border-right: 1px solid rgba(0, 0, 0, 0.05);
			}
			
			.info-value {
				padding: 0.6rem 0.8rem;
				flex: 1.2;
				color: #212529;
			}
			
			.info-value.highlight {
				background: rgba(40, 167, 69, 0.1);
				color: #28a745;
				font-weight: bold;
			}
			
			.info-value.warning {
				background: rgba(255, 193, 7, 0.1);
				color: #856404;
				font-weight: bold;
			}
			
			.info-value.danger {
				background: rgba(220, 53, 69, 0.1);
				color: #721c24;
				font-weight: bold;
			}
			
			/* Hide info box on mobile and tablets */
			@media screen and (max-width: 768px) {
				.info-box {
					float: none;
					width: 100%;
					max-width: 100%;
					margin: 1rem 0;
					box-sizing: border-box;
				}
			}
			
			/* Additional mobile safeguards */
			@media screen and (max-width: 480px) {
				.info-box {
					margin: 1rem 0;
					width: calc(100% - 2rem);
				}
				
				.wiki-content {
					padding: 0 0.5rem;
				}
				
				.supplement-meta-info {
					grid-template-columns: 1fr;
				}
				
				.studies-grid {
					grid-template-columns: 1fr;
					gap: 1rem;
				}
			}
			
			/* Adjust main content to account for TOC */
			.wiki-content {
				max-width: 1200px;
				margin: 0 auto;
				margin-right: 290px;
				line-height: 1.6;
			}
			
			@media screen and (max-width: 1024px) {
				.wiki-content {
					margin-right: 0;
					margin-left: 0;
					max-width: 900px;
					padding: 0 1rem;
				}
			}
			
			@media screen and (max-width: 768px) {
				.wiki-content {
					max-width: 100%;
					margin: 0;
					padding: 0 1rem;
					box-sizing: border-box;
				}
			}
			
			.reference-list {
				background: rgba(248, 249, 250, 0.9);
				padding: 1.5rem;
				border-radius: 8px;
				margin-top: 2rem;
			}
			
			.reference-list h4 {
				color: #6666ff;
				margin-bottom: 1rem;
			}
			
			.reference-list ol {
				counter-reset: reference-counter;
				padding-left: 0;
			}
			
			.reference-list li {
				counter-increment: reference-counter;
				margin: 1rem 0;
				padding-left: 2rem;
				position: relative;
				font-size: 0.9rem;
			}
			
			.reference-list li::before {
				content: counter(reference-counter);
				position: absolute;
				left: 0;
				top: 0;
				background: #6666ff;
				color: white;
				width: 1.5rem;
				height: 1.5rem;
				border-radius: 50%;
				display: flex;
				align-items: center;
				justify-content: center;
				font-size: 0.8rem;
				font-weight: bold;
			}
		</style>
	</head>
	<body class="is-preload">

		<!-- Navigation -->
			<nav id="nav">
				<div class="nav-container">
					<div class="nav-brand">
						<a href="index.html">WhatSupp</a>
					</div>
					<ul class="nav-links">
						<li><a href="index.html">Home</a></li>
						<li><a href="survey.html">Survey</a></li>
						<li><a href="results.html">Results</a></li>
						<li><a href="#" class="button primary small">Shop Now</a></li>
					</ul>
					<div class="nav-toggle">
						<span></span>
						<span></span>
						<span></span>
					</div>
				</div>
			</nav>

		<!-- Main Content -->
		<section class="wrapper style2">
			<div class="inner">
				<div class="wiki-content">

					<!-- Table of Contents -->
					<div class="toc" id="tableOfContents">
						<h4>📋 Contents <button class="toc-toggle" id="tocToggle">−</button></h4>
						<div class="toc-content" id="tocContent">
							<ul>
								<li><a href="#overview" data-section="overview">Overview & Mechanism</a></li>
								<li><a href="#benefits" data-section="benefits">Proven Benefits</a></li>
								<li><a href="#research" data-section="research">Scientific Evidence</a></li>
								<li><a href="#dosage" data-section="dosage">Dosage & Timing</a></li>
								<li><a href="#safety" data-section="safety">Safety & Side Effects</a></li>
								<li><a href="#combinations" data-section="combinations">Supplement Combinations</a></li>
								<li><a href="#references" data-section="references">References</a></li>
							</ul>
						</div>
					</div>

					<!-- Overview Section -->
					<div class="wiki-section" id="overview">
						<!-- Wikipedia-style Info Box -->
						<div class="info-box">
							<div class="info-box-header">
								<h4>Loading...</h4>
							</div>
							<div class="info-box-content">
								<div style="text-align: center; padding: 2rem; color: #666;">
									Loading supplement information...
								</div>
							</div>
						</div>

						<h3>🔬 Overview & Mechanism</h3>
						<p>Loading supplement information...</p>
					</div>

					<!-- Benefits Section -->
					<div class="wiki-section" id="benefits">
						<h3>✅ Proven Benefits</h3>
						
						<div class="studies-grid">
							<div style="text-align: center; padding: 2rem; color: #666; grid-column: 1 / -1;">
								Loading benefit information...
							</div>
						</div>
					</div>

					<!-- Research Section -->
					<div class="wiki-section" id="research">
						<h3>📊 Scientific Evidence</h3>
						<p>Loading research information...</p>
						
						<div class="studies-grid">
							<div style="text-align: center; padding: 2rem; color: #666; grid-column: 1 / -1;">
								Loading research studies...
							</div>
						</div>
					</div>

					<!-- Dosage Section -->
					<div class="wiki-section" id="dosage">
						<h3>💊 Dosage & Timing</h3>
						
						<table class="dosage-table">
							<thead>
								<tr><th>Protocol</th><th>Dosage</th><th>Duration</th><th>Notes</th></tr>
							</thead>
							<tbody>
								<tr>
									<td colspan="4" style="text-align: center; padding: 2rem; color: #666;">
										Loading dosage information...
									</td>
								</tr>
							</tbody>
						</table>
					</div>

					<!-- Safety Section -->
					<div class="wiki-section" id="safety">
						<h3>⚕️ Safety & Side Effects</h3>
						<p>Loading safety information...</p>
					</div>

					<!-- Combinations Section -->
					<div class="wiki-section" id="combinations">
						<h3>🔗 Supplement Combinations</h3>
						
						<div class="studies-grid">
							<div style="text-align: center; padding: 2rem; color: #666; grid-column: 1 / -1;">
								Loading combination information...
							</div>
						</div>
					</div>

					<!-- References -->
					<div class="reference-list" id="references">
						<h4>📚 Scientific References</h4>
						<ol>
							<li style="text-align: center; padding: 2rem; color: #666; list-style: none;">
								Loading references...
							</li>
						</ol>
						
						<div class="safety-alert" style="margin-top: 2rem;">
							<h4>📋 Medical Disclaimer</h4>
							<p>This information is for educational purposes only and is not intended as medical advice. Always consult with a healthcare professional before starting any supplement regimen, especially if you have pre-existing medical conditions or are taking medications.</p>
						</div>
					</div>

				</div>
			</div>
		</section>

		<!-- Footer -->
			<footer id="footer">
				<ul class="icons">
					<li><a href="#" class="icon brands fa-facebook-f"><span class="label">Facebook</span></a></li>
					<li><a href="#" class="icon brands fa-twitter"><span class="label">Twitter</span></a></li>
					<li><a href="#" class="icon brands fa-instagram"><span class="label">Instagram</span></a></li>
				</ul>
				<p class="copyright">&copy; WhatSupp 2025. Evidence-based supplement information.</p>
			</footer>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
			
			<!-- Supabase Integration -->
			<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
			<script src="assets/js/supabase-config.js"></script>
			<script src="assets/js/supplement-loader.js"></script>
			
			<!-- Background selection now handled by supplement-loader.js -->

			<!-- Sticky TOC Functionality -->
			<script>
				$(document).ready(function() {
					const $toc = $('#tableOfContents');
					const $tocToggle = $('#tocToggle');
					const $tocContent = $('#tocContent');
					const $tocLinks = $toc.find('a[data-section]');
					
					let isCollapsed = false;
					
					// Toggle TOC collapse
					$tocToggle.click(function() {
						isCollapsed = !isCollapsed;
						$toc.toggleClass('collapsed', isCollapsed);
						$tocToggle.text(isCollapsed ? '+' : '−');
					});
					
					// Click on collapsed TOC to expand
					$toc.click(function(e) {
						if (isCollapsed && (e.target === this || $(e.target).hasClass('toc'))) {
							isCollapsed = false;
							$toc.removeClass('collapsed');
							$tocToggle.text('−');
						}
					});
					
					// Smooth scroll for TOC links
					$tocLinks.click(function(e) {
						e.preventDefault();
						const targetId = $(this).attr('href');
						const $target = $(targetId);
						
						if ($target.length) {
							$('html, body').animate({
								scrollTop: $target.offset().top - 20
							}, 500);
						}
					});
					
					// Highlight current section based on scroll position
					function highlightCurrentSection() {
						let current = '';
						const scrollTop = $(window).scrollTop();
						
						$tocLinks.each(function() {
							const section = $(this).data('section');
							const $section = $('#' + section);
							
							if ($section.length) {
								const sectionTop = $section.offset().top - 100;
								const sectionBottom = sectionTop + $section.outerHeight();
								
								if (scrollTop >= sectionTop && scrollTop < sectionBottom) {
									current = section;
								}
							}
						});
						
						// Update active states
						$tocLinks.removeClass('active');
						if (current) {
							$tocLinks.filter('[data-section="' + current + '"]').addClass('active');
						}
					}
					
					// Update highlighting on scroll
					$(window).scroll(function() {
						highlightCurrentSection();
					});
					
					// Initial highlight
					highlightCurrentSection();
				});
			</script>

	</body>
</html>